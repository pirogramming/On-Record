<!-- ì—°Â·ì›” ì„ íƒ ë“œë¡­ë‹¤ìš´ -->
<select id="year-select">
    {% for y in year_range %}
        <option value="{{ y }}" {% if y == year %}selected{% endif %}>{{ y }}</option>
    {% endfor %}
</select>
<select id="month-select">
    {% for m in month_range %}
        <option value="{{ m }}" {% if m == month %}selected{% endif %}>{{ m }}</option>
    {% endfor %}
</select>

<!-- ìº˜ë¦°ë” UI -->
<table>
    <tr>
        <th>ì¼</th><th>ì›”</th><th>í™”</th><th>ìˆ˜</th><th>ëª©</th><th>ê¸ˆ</th><th>í† </th>
    </tr>
    <tr>
        {% for day in days %}
            {% if day == 1 %}
                <td colspan="{{ first_day }}"></td>  {# 1ì¼ ì‹œì‘ ìš”ì¼ ë§ì¶”ê¸° #}
            {% endif %}
            <td class="{% if day == today.day and month == today.month and year == today.year %}today{% endif %}">
                <a href="{% url 'diaries:diary_view' year=year month=month day=day %}">
                    {{ day }}
                </a>
                {% if day in diary_map %} ğŸ“ {% endif %} {# í•´ë‹¹ ë‚ ì§œì— ì¼ê¸° ìˆìŒ í‘œì‹œ #}
            </td>
            {% if day|add:first_day|divisibleby:7 %}
                </tr><tr> {% comment %} í•œ ì¤„ ëë‚˜ë©´ ì¤„ë°”ê¿ˆ {% endcomment %}
            {% endif %}
        {% endfor %}
    </tr>
</table>

<!-- ì˜¤ëŠ˜ ë‚ ì§œ ìŠ¤íƒ€ì¼ -->
<style>
.today { background-color: yellow; font-weight: bold; }
</style>

<!-- ì—°Â·ì›” ë³€ê²½ ì‹œ GET ìš”ì²­ -->
<script>
document.getElementById("year-select").addEventListener("change", function() {
    var year = this.value;
    var month = document.getElementById("month-select").value;
    window.location.href = `/calendar/${year}/${month}/`;
});
document.getElementById("month-select").addEventListener("change", function() {
    var year = document.getElementById("year-select").value;
    var month = this.value;
    window.location.href = `/calendar/${year}/${month}/`;
});
</script>